{% extends "base.html" %}
{% load partials %}
{% block head %}
    {% add_style 'conference.css' %}
    {% add_script 'conference.js' %}
    <script>
        window.allGames = {{ all_games|safe }};
        window.allSchools = {{ all_schools|safe }};
    </script>
{% endblock %}

{% block header %}
    <div class="dropdowns">
        <select class='sport'> 
            <option></option>
            {% for sport in sports %}
                <option value="{{ sport }}" {% if sport == current_sport %}selected="selected"{% endif %}>{{ sport }}</option>
            {% endfor %}
        </select>
        <select class='conference'> 
            <option></option>
            {% for id, conference in conferences.items %}
                <option value="{{id}}" {% if sport == current_sport %}selected="selected"{% endif %}>{{conference.name}}</option>
            {% endfor %}
        </select>
    </div>
{% endblock %}
{% block content %}
    {% if not season %}
        <p>The given sport and conference does not have any stats for the season. </p>
    {% else %}
        <div class='year'>
            <p>{{season.year}}</p>
        </div>
        <div class='graph'>
            {% for circle_of_suck in circles_of_suck %}
                <svg class="school-group circle-of-suck">
                    <defs>
                        <marker id="head" orient="auto" markerWidth="4" markerHeight="6" refX="2" refY="3">
                            <path d="M1,1 L3,3 L1,5"></path>
                        </marker>
                    </defs>
                    {% for school in circle_of_suck %}
                        {% make_school school %}
                        <path class="arrow" marker-end="url(#head)"></path>
                    {% endfor %}
                </svg>
            {% endfor %}
            {% if extra_schools %}
                <div class="school-group extra-schools">
                    {% for school in extra_schools %}
                        {% make_school school %}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class='school-box box'>
            <span class="school-name"></span>&nbsp;
            <span class="record"></span>
        </div>
        <div class='game-box box'>
            <p class="date"></p>
            <p class='winner'> 
                <img src="" class='logo'>
                <span class='score'></span>
            </p> 
            <p class='loser'>
                <img src="" class='logo'>
                <span class='score'></span>
            </p>
        </div>
        <!--<button type='button' class='graph-type'>Full Graph</button>-->
    {% endif %}
{% endblock %}
